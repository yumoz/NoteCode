# code

```c 

/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     struct TreeNode *left;
 *     struct TreeNode *right;
 * };
 */


/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
 //计算节点数，方便开空间
 int TreeSize(struct TreeNode* root)
{
    if(root == NULL)
        return 0;
    return TreeSize(root->left)
        + TreeSize(root->right) + 1;
}
 typedef struct TreeNode TreeNode;
 void inoder(TreeNode* root,int* res,int* resSize)
 {
     if(root == NULL) return NULL;//空树
     
     inoder(root->left,res,resSize);//
     res[(*resSize)++] = root->val;//
     inoder(root->right,res,resSize);//
 }
int* inorderTraversal(struct TreeNode* root, int* returnSize){
    *returnSize = TreeSize(root);//记录节点数
    int *res = (int*)malloc(sizeof(int)*(*returnSize));//开辟节点数目大小的空间
    int * a = 0;
    inoder(root,res,&a);//函数实现

    return res;//返回数组
}
```