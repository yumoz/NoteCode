# code

```c 
/*
struct ListNode {
    int val;
    struct ListNode *next;
    ListNode(int x) :
        val(x), next(NULL) {
    }
};
*/
class Solution {
public:
    ListNode* deleteDuplication(ListNode* pHead) {
        if(pHead == NULL || pHead->next == NULL){
            return pHead;
        }
        else{
             //链表有超过一个节点
            struct ListNode *prev = NULL;
            struct ListNode *cur = pHead;
            struct ListNode *next = pHead->next;
           
            while(next != NULL){
                if(cur->val != next->val){//相邻相等
                    prev = cur;
                    cur = next;
                    next = next->next;
                }
                else{
                    int val = cur->val;
                    while(cur != NULL && cur->val == val){//找到相等就释放
                        struct ListNode *del = cur;
                        cur = cur->next;
                        if(cur == NULL){
                            next = NULL;
                        }
                        else{
                            next = next->next;
                        }
                        free(del);
                    }
                    if(prev == NULL){
                        pHead = cur;
                    }
                    else{
                        prev->next = cur;
                    }
                    
                }
            }
        }
        return pHead;

    }
};
```