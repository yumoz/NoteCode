# code
```c 
class Solution {
public:
	int strToInt(string str) {
		//1. 字符串为空
		if (str.empty()) return 0;

		// 1.1 考虑前面的空格 如“  -23 min”
		int i = 0;
		for ( i = 0; i < str.size() && str[i] == ' '; ++i)
		{
			//空操作
		}

		str = str.substr(i, str.size() );

		// 2. 考虑正负号
		int sign = 1;
		if (str[0] == '-'){
			sign = -1;
		}
		string res = "";
		if (str[0] == '+' || str[0] == '-') {
			res = str.substr(1, str.size() - 1);
		}
		else{
			res = str;
		}

		//3. 考虑数字越界 出错 问题解决 空格问题
		for (int i = 0; i<res.size(); i++){
			if (res[i]>'9' || res[i] < '0')
				//res[i] = 0;// return 0;
			res = res.substr(0, i);
		}

		// long long result = 0;
		// long long bitcount = 1;
		// for (int i = res.size() - 1; i >= 0 ; i--){
		// 	// result = result + (res[i] - '0')*bitcount;
		// 	// bitcount = bitcount * 10; // 从个位往上加

        //     result = result*10 + (res[i] - '0');

        //     //考虑大数
        //     if(sign == 1 && result > INT_MAX){
        //         return INT_MAX;
        //     }
        //     else if(sign == -1 && -result < INT_MIN){
        //         return INT_MIN;
        //     }
		// }

        // // 正序写法
        long long result = 0;
		int bitcount = 1;
        for (int i = 0; i <= res.size()-1 && isdigit(res[i]); ++i){
			// result = result*10 + (res[i] - '0')*bitcount;
			// bitcount = bitcount * 10; // 从个位往上加
            
            result = result*10 + (res[i] - '0')*bitcount;

            //考虑大数
            if(sign == 1 && result > INT_MAX){
                return INT_MAX;
            }
            else if(sign == -1 && -result < INT_MIN){
                return INT_MIN;
            }
		}

		return sign*result;
	}
};
```